<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8>
	<meta name=description content="Abyan Juang Kecci - Portfolio">
	<meta name="keyword" content="app, landing, software, html, responsive">
	<meta name=viewport content="width=device-width, initial-scale=1">
	<!-- Title -->
	<title>Abyan Juang Kecci - Portfolio</title>
	<!-- Favicon -->
	<link rel="icon" type="img/png" sizes="32x32" href="../assets/img/favicon.ico">
	<!-- Bootstrap -->
	<link rel="stylesheet" type="text/css" href="../assets/css/bootstrap.css">
	<!-- Magnific Popup -->
	<link rel="stylesheet" type="text/css" href="../assets/css/magnific-popup.min.css">
	<!-- Baguette Box -->
	<link rel="stylesheet" type="text/css" href="../assets/css/baguetteBox.min.css">
	<!-- Font Awesome -->
	<link rel="stylesheet" type="text/css" href="../assets/css/all.min.css">
	<link rel="stylesheet" type="text/css" href="../assets/css/fontawesome.min.css">
	<!-- Oml-Carausel -->
	<link rel="stylesheet" type="text/css" href="../assets/css/owl.carousel.min.css">
	<!-- Animate -->
	<link rel="stylesheet" type="text/css" href="../assets/css/animate.min.css">
	<!-- Main Style -->
	<link rel="stylesheet" type="text/css" href="../assets/css/style.css">
	<!-- Responsive -->
	<link rel="stylesheet" type="text/css" href="../assets/css/responsive.css">

	
</head>
<body data-spy="scroll" data-target="#navbarResponsive">

	<!-- Start Navbar -->
	<nav class="navbar navbar-blog navbar-expand-md fixed-top">
		<div class="container">
			<a class="navbar-brand" href="#">Kecci</a>

			<button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="fa fa-bars"></span>
            </button>

			<div class="collapse navbar-collapse" id="navbarResponsive">
				<ul class="navbar-nav ml-auto">
					<li class="nav-item">
						<a class="nav-link" href="#zein-intro-area">Home</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#about-us">About</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#technical-skills">Skills</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#work-history">Experience</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#testimonial">Testimonials</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#blog">Publication</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="#contact">Contact</a>
					</li>
				</ul>
			</div>
		</div>
	</nav>
	<!-- End Navbar -->
	
	<!-- Start Intro Blog -->
	<section id="intro-blog">
		<div class="container">
			<div class="caption-intro">
				<h4>Abyan Juang Kecci</h4>
				<div class="social-intro">
					<ul>
						<li>
							<a href="https://www.facebook.com/abyanjksatu" target="_blank">
								<i class="fab fa-facebook" aria-hidden="true"></i>
							</a>
						</li>
						<li>
							<a href="https://www.linkedin.com/in/abyan-juang-kecci/" target="_blank">
								<i class="fab fa-linkedin" aria-hidden="true"></i>
							</a>
						</li>
						<li>
							<a href="http://instagram.com/keccikun/" target="_blank">
								<i class="fab fa-instagram" aria-hidden="true"></i>
							</a>
						</li>
						<li>
							<a href="http://keccikun.blogspot.com/" target="_blank">
								<i class="fab fa-blogger" aria-hidden="true"></i>
							</a>
						</li>
						<li>
							<a href="https://github.com/abyanjksatu" target="_blank">
								<i class="fab fa-github" aria-hidden="true"></i>
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</section>
	<!-- End Intro Blog -->

    <!-- Start Blogger -->
	<section id="blogger">
		<div class="container">
			<div class="row">
				<div class="col-lg-12">
					<div class="blogger-text">
						<div class="blogger-title">
							<h1>Golang Elasticsearch Kibana with Docker <span class="thin-text"></span></h1>
							<p>07 September 2020</p>
						</div>
						<div class="blogger-description">
							<p class="has-line-data" data-line-start="0" data-line-end="1"><a href="http://godoc.org/github.com/elastic/go-elasticsearch"><img src="https://godoc.org/github.com/elastic/go-elasticsearch?status.svg" alt="GoDoc"></a></p>
							<h1 class="code-line" data-line-start=2 data-line-end=3 ><a id="Golang_Elasticsearch_Kibana_2"></a>Golang Elasticsearch Kibana</h1>
							<p class="has-line-data" data-line-start="3" data-line-end="4">This is simple project for golang, elasticsearch, and kibana</p>
							<h2 class="code-line" data-line-start=5 data-line-end=6 ><a id="Docker_5"></a>Docker</h2>
							<h3 class="code-line" data-line-start=6 data-line-end=7 ><a id="Docker__dockercompose_Installation_6"></a>Docker &amp; docker-compose Installation</h3>
							<p class="has-line-data" data-line-start="7" data-line-end="9">On Mac:<br>
							<a href="https://docs.docker.com/docker-for-mac/install/"><code>Installation Docker with Mac</code></a></p>
							<p class="has-line-data" data-line-start="10" data-line-end="11">Try to check docker version:</p>
							<pre><code class="has-line-data" data-line-start="12" data-line-end="15" class="language-bash">$ docker --version
							$ docker-compose version
							</code></pre>
							<h2 class="code-line" data-line-start=16 data-line-end=17 ><a id="Elasticsearch_16"></a>Elasticsearch</h2>
							<h3 class="code-line" data-line-start=17 data-line-end=18 ><a id="Elasticsearch_Installation_on_Docker_17"></a>Elasticsearch Installation on Docker</h3>
							<p class="has-line-data" data-line-start="18" data-line-end="19">Download image of elasticsearch with version <code>7.6.0</code>:</p>
							<pre><code class="has-line-data" data-line-start="20" data-line-end="22" class="language-bash">$ docker pull elasticsearch:<span class="hljs-number">7.6</span>.<span class="hljs-number">0</span>
							</code></pre>
							<p class="has-line-data" data-line-start="23" data-line-end="24">Try to run image of elasticsearch to be a container:</p>
							<pre><code class="has-line-data" data-line-start="25" data-line-end="28" class="language-bash">$ docker run <span class="hljs-operator">-d</span> --network:elastic -p <span class="hljs-number">9200</span>:<span class="hljs-number">9200</span> -p <span class="hljs-number">9300</span>:<span class="hljs-number">9300</span> <span class="hljs-operator">-e</span> <span class="hljs-string">"discovery.type=single-node"</span> --name elasticsearch elasticsearch:<span class="hljs-number">7.6</span>.<span class="hljs-number">0</span>
							$ docker ps
							</code></pre>
							<h2 class="code-line" data-line-start=29 data-line-end=30 ><a id="Kibana_29"></a>Kibana</h2>
							<h3 class="code-line" data-line-start=30 data-line-end=31 ><a id="Kibana_Installation_on_Docker_30"></a>Kibana Installation on Docker</h3>
							<p class="has-line-data" data-line-start="31" data-line-end="32">Download image of kibana with version <code>7.6.0</code>:</p>
							<pre><code class="has-line-data" data-line-start="33" data-line-end="37" class="language-bash">$ docker pull kibana:<span class="hljs-number">7.6</span>.<span class="hljs-number">0</span>
							or
							$ docker pull docker.elastic.co/kibana/kibana:<span class="hljs-number">7.6</span>.<span class="hljs-number">0</span>
							</code></pre>
							<p class="has-line-data" data-line-start="38" data-line-end="39">Try run image of kibana to be a container:</p>
							<pre><code class="has-line-data" data-line-start="40" data-line-end="43" class="language-bash">$ docker run <span class="hljs-operator">-d</span> --net:elastic -p <span class="hljs-number">5601</span>:<span class="hljs-number">5601</span> <span class="hljs-operator">-e</span> ELASTICSEARCH_URL=http://localhost:<span class="hljs-number">9200</span> --name kibana kibana:<span class="hljs-number">7.6</span>.<span class="hljs-number">0</span>
							$ docker ps
							</code></pre>
							<h2 class="code-line" data-line-start=44 data-line-end=45 ><a id="Docker_Compose_44"></a>Docker Compose</h2>
							<h3 class="code-line" data-line-start=45 data-line-end=46 ><a id="Create_docker_compose_for_Elasticsearch_and_Kibana_45"></a>Create docker compose for Elasticsearch and Kibana</h3>
							<p class="has-line-data" data-line-start="46" data-line-end="47">Create file with name <code>docker-compose.yml</code> and type this example configuration into file:</p>
							<pre><code class="has-line-data" data-line-start="48" data-line-end="113">version: '2.2'
							services:
							es01:
								image: elasticsearch:7.6.0
								container_name: es01
								environment:
								- node.name=es01
								- cluster.name=es-docker-cluster
								- discovery.seed_hosts=es02
								- cluster.initial_master_nodes=es01,es02
								- bootstrap.memory_lock=true
								- &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;
								ulimits:
								memlock:
									soft: -1
									hard: -1
								volumes:
								- data01:/usr/share/elasticsearch/data
								ports:
								- 9200:9200
								networks:
								- elastic
							es02:
								image: elasticsearch:7.6.0
								container_name: es02
								environment:
								- node.name=es02
								- cluster.name=es-docker-cluster
								- discovery.seed_hosts=es01
								- cluster.initial_master_nodes=es01,es02
								- bootstrap.memory_lock=true
								- &quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;
								ulimits:
								memlock:
									soft: -1
									hard: -1
								volumes:
								- data02:/usr/share/elasticsearch/data
								networks:
								- elastic

							kibana:
								image: kibana:7.6.0
								container_name: kibana
								environment:
								SERVER_NAME: kibana.local
								ELASTICSEARCH_HOSTS: http://es01:9200
								ports: 
								- 5601:5601
								networks:
								- elastic
								depends_on:
								- es01
								- es02

							volumes:
							data01:
								driver: local
							data02:
								driver: local

							networks:
							elastic:
								driver: bridge
							</code></pre>
							<p class="has-line-data" data-line-start="114" data-line-end="115">In this case, I’m creating 3 containers:</p>
							<ul>
							<li class="has-line-data" data-line-start="115" data-line-end="116">es01 (elasticsearch for node 1)</li>
							<li class="has-line-data" data-line-start="116" data-line-end="117">es02 (elasticsearch for node 2)</li>
							<li class="has-line-data" data-line-start="117" data-line-end="119">kibana (as dashboard)</li>
							</ul>
							<h3 class="code-line" data-line-start=119 data-line-end=120 ><a id="Run_Docker_Compose_119"></a>Run Docker Compose</h3>
							<p class="has-line-data" data-line-start="120" data-line-end="121">To run docker compose:</p>
							<pre><code class="has-line-data" data-line-start="122" data-line-end="125" class="language-bash">$ docker-compose up <span class="hljs-operator">-d</span>
							$ docker ps
							</code></pre>
							<p class="has-line-data" data-line-start="126" data-line-end="127">Make sure all containers running</p>
							<h2 class="code-line" data-line-start=128 data-line-end=129 ><a id="golang_128"></a>golang</h2>
							<h3 class="code-line" data-line-start=129 data-line-end=130 ><a id="Golang_Installation_129"></a>Golang Installation</h3>
							<p class="has-line-data" data-line-start="130" data-line-end="131">Install golang <a href="https://golang.org/doc/install"><code>Install golang</code></a></p>
							<p class="has-line-data" data-line-start="132" data-line-end="133">Try to check version</p>
							<pre><code class="has-line-data" data-line-start="134" data-line-end="136" class="language-bash">$ go version
							</code></pre>
							<h3 class="code-line" data-line-start=137 data-line-end=138 ><a id="Setup_Project_137"></a>Setup Project</h3>
							<p class="has-line-data" data-line-start="138" data-line-end="139">This is golang library to integrate with elasticsearch</p>
							<p class="has-line-data" data-line-start="140" data-line-end="141">First, download library for go-elasticsearch, in here we are using version v7:</p>
							<pre><code class="has-line-data" data-line-start="142" data-line-end="145" class="language-bash">$ go mod init
							$ go get github.com/elastic/go-elasticsearch/v7
							</code></pre>
							<p class="has-line-data" data-line-start="146" data-line-end="147">Then create file <code>main.go</code> and insert this example code:</p>
							<pre><code class="has-line-data" data-line-start="148" data-line-end="190" class="language-go"><span class="hljs-keyword">package</span> main

							<span class="hljs-keyword">import</span> (
								<span class="hljs-string">"crypto/tls"</span>
								<span class="hljs-string">"log"</span>
								<span class="hljs-string">"net"</span>
								<span class="hljs-string">"net/http"</span>
								<span class="hljs-string">"time"</span>

								<span class="hljs-string">"github.com/elastic/go-elasticsearch/v7"</span>
							)

							<span class="hljs-keyword">func</span> main() {
								cfg := elasticsearch.Config{
									Addresses: []<span class="hljs-typename">string</span>{
										<span class="hljs-string">"http://localhost:9200"</span>,
									},
									Username: <span class="hljs-string">"foo"</span>,
									Password: <span class="hljs-string">"bar"</span>,
									Transport: &amp;http.Transport{
										MaxIdleConnsPerHost:   <span class="hljs-number">10</span>,
										ResponseHeaderTimeout: time.Second,
										DialContext:           (&amp;net.Dialer{Timeout: time.Second}).DialContext,
										TLSClientConfig: &amp;tls.Config{
											MinVersion: tls.VersionTLS11,
										},
									},
								}

								es, _ := elasticsearch.NewClient(cfg)

								res, err := es.Info()

								<span class="hljs-keyword">if</span> err != <span class="hljs-constant">nil</span> {
									log.Fatalf(<span class="hljs-string">"Error getting response: %s"</span>, err)
								}

								log.Println(res)

								log.Println(es.Indices)
							}
							</code></pre>
							<h3 class="code-line" data-line-start=191 data-line-end=192 ><a id="Run_golang_elasticsearch_Application_191"></a>Run golang elasticsearch Application</h3>
							<p class="has-line-data" data-line-start="192" data-line-end="193">Try to run application:</p>
							<pre><code class="has-line-data" data-line-start="194" data-line-end="196" class="language-bash">$ go run main.go
							</code></pre>
							<p class="has-line-data" data-line-start="197" data-line-end="198">See More in here <a href="https://github.com/elastic/go-elasticsearch/"><code>Documentation of go-elasticsearch</code></a></p>
						</div>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- End Start Blogger -->

	<!-- Start Footer -->
	<section id="footer">
		<div class="container">
			<div class="row">
				<div class="col-md-4">
					<div class="footer-detail">
						<i class="fa fa-phone-volume" aria-hidden="true"></i>
						<p>Phone</p>
						<p>+62 896 3555 2242</p>
					</div>
				</div>
				<div class="col-md-4">
					<div class="footer-detail">
						<i class="fa fa-envelope" aria-hidden="true"></i>
						<p>Email</p>
						<p>abyanjksatu@gmail.com</p>
					</div>
				</div>
				<div class="col-md-4">
					<div class="footer-detail">
						<i class="fa fa-map" aria-hidden="true"></i>
						<p>Addres</p>
						<p>Pancoran DKI Jakarta Indonesia</p>
					</div>
				</div>
			</div>
		</div>
	</section>
	<!-- End Footer -->


	<!-- Start Copyright -->
	<section id="copyright">
		<div class="container">
			<div class="copyright-detail">
				<p>© 2019 Copyright <a href="#" target="_blank">Seniman Koding</a> All rights reserved.</p>
			</div>
		</div>
	</section>
	<!-- End Copyright -->


	<!-- Start Scroll To Top -->
    <div class="scroll-up">
        <span class="top-one"></span>
        <span class="top-two">Top</span>
        <span class="top-three"></span>
    </div> 
    <!-- End Scroll To Top -->

	<!--Jquery js-->
    <script src="../assets/js/jquery-3.5.1.min.js"></script>
    <!--Bootstrap js-->
    <script src="../assets/js/bootstrap.min.js"></script>
    <!-- Isotope -->
    <script src="../assets/js/isotope.pkgd.min.js"></script>
    <!-- Magnific Popup -->
    <script src="../assets/js/jquery.magnific-popup.min.js"></script>
    <!-- Baguette Box -->
    <script src="../assets/js/baguetteBox.min.js"></script>
    <script>
        baguetteBox.run('.projects');
    </script>
    <!-- animated.headline -->
    <script src="../assets/js/animated.headline.js"></script>
    <!--Owl-Carousel js-->
    <script src="../assets/js/owl.carousel.min.js"></script>
    <!--Main js-->
	<script src="../assets/js/main.js"></script>
</body>
</html>